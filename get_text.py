from PIL import Image
import pytesseract

# Path to the Tesseract executable (update this based on your installation)
pytesseract.pytesseract.tesseract_cmd = r'C:\Program Files\Tesseract-OCR\tesseract.exe'

def perform_ocr(image_path, language='eng', psm=6, oem=3):
    # Open the image using Pillow
    img = Image.open(image_path)

    # Perform OCR on the image
    text = pytesseract.image_to_string(img, lang=language, config=f'--psm {psm} --oem {oem}')

    return text

if __name__ == "__main__":
    # Replace with the path to your image file
    image_path = './as.jpg'

    # Specify language (optional), psm, and oem configurations as needed
    detected_text = perform_ocr(image_path, language='eng', psm=6, oem=3)

    # Print the extracted text
    print("Detected Text:")
    print(detected_text)
